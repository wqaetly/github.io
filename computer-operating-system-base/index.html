<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>计算机操作系统复习纲要 | 烟雨迷离半世殇的成长之路</title><meta name="keywords" content="计算机科学与技术"><meta name="author" content="烟雨迷离半世殇"><meta name="copyright" content="烟雨迷离半世殇"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="操作系统引论  操作系统基础知识 定义：操作系统（Operating System，OS）是配置在计算机硬件上的第一层软件，是对硬件系统的首次扩充。 设计目标：在计算机系统上配置操作系统，，其主要目标是方便性，有效性，可扩充性和开放性。 作用：可以从用户，资源管理以及资源抽象等多个不同角度来分析讨论。  OS作为用户与计算机硬件系统之间的接口 OS作为计算机系统资源的管理者 OS实现了对计算机">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机操作系统复习纲要">
<meta property="og:url" content="https://www.lfzxb.top/computer-operating-system-base/index.html">
<meta property="og:site_name" content="烟雨迷离半世殇的成长之路">
<meta property="og:description" content="操作系统引论  操作系统基础知识 定义：操作系统（Operating System，OS）是配置在计算机硬件上的第一层软件，是对硬件系统的首次扩充。 设计目标：在计算机系统上配置操作系统，，其主要目标是方便性，有效性，可扩充性和开放性。 作用：可以从用户，资源管理以及资源抽象等多个不同角度来分析讨论。  OS作为用户与计算机硬件系统之间的接口 OS作为计算机系统资源的管理者 OS实现了对计算机">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/12/QQ截图20191205210058.png!webp">
<meta property="article:published_time" content="2021-01-01T00:00:00.000Z">
<meta property="article:modified_time" content="2021-03-16T09:38:26.047Z">
<meta property="article:author" content="烟雨迷离半世殇">
<meta property="article:tag" content="计算机科学与技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/12/QQ截图20191205210058.png!webp"><link rel="shortcut icon" href="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2020/05/avatar_0001.png!webp"><link rel="canonical" href="https://www.lfzxb.top/computer-operating-system-base/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="AhlEJ91V_L12bkwRF1ZS0BbytGCfsjqCX4GXztUluC8"/><meta name="baidu-site-verification" content="iRRtEBalDiujISsN"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: 'ca-pub-7235595771604497',
  enable_page_level_ads: 'true'
});</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}

// https://stackoverflow.com/questions/16839698/jquery-getscript-alternative-in-native-javascript
const getScript = url => new Promise((resolve, reject) => {
  const script = document.createElement('script')
  script.src = url
  script.async = true
  script.onerror = reject
  script.onload = script.onreadystatechange = function() {
    const loadState = this.readyState
    if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
    script.onload = script.onreadystatechange = null
    resolve()
  }
  document.head.appendChild(script)
})</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-03-16 09:38:26'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = '2'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><link rel="stylesheet" href="/css/CustomIcons/iconfontformaliyun.css"><style>#nav #site-name { display: none;}</style><meta name="generator" content="Hexo 5.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" data-lazy-src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2020/05/avatar_0001.png!webp" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">145</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">63</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">37</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-torii-gate"></i><span> 蓬莱仙境</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-stream"></i><span> 白驹过隙</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 包罗万象</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分朋引类</span></a></div><div class="menus_item"><a class="site-page" href="/self/"><i class="fa-fw fas fa-id-card"></i><span> 择交而友</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-dice-d20"></i><span> 壶里乾坤</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 莺声婉转</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 往昔回忆</span></a></li><li><a class="site-page" href="/artitalk/"><i class="fa-fw fas fa-coffee"></i><span> 杯酒言欢</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 一见如故</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/12/QQ截图20191205210058.png!webp)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">烟雨迷离半世殇的成长之路</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 寻幽探胜</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-torii-gate"></i><span> 蓬莱仙境</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-stream"></i><span> 白驹过隙</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 包罗万象</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分朋引类</span></a></div><div class="menus_item"><a class="site-page" href="/self/"><i class="fa-fw fas fa-id-card"></i><span> 择交而友</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-dice-d20"></i><span> 壶里乾坤</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 莺声婉转</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 往昔回忆</span></a></li><li><a class="site-page" href="/artitalk/"><i class="fa-fw fas fa-coffee"></i><span> 杯酒言欢</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 一见如故</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">计算机操作系统复习纲要</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-01-01T00:00:00.000Z" title="发表于 2021-01-01 00:00:00">2021-01-01</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-03-16T09:38:26.047Z" title="更新于 2021-03-16 09:38:26">2021-03-16</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/CS%E5%9F%BA%E7%A1%80/">CS基础</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/CS%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">计算机操作系统</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">7.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>22分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><meta name="referrer" content="no-referrer" />
<h1 id="操作系统引论"><a class="markdownIt-Anchor" href="#操作系统引论"></a> 操作系统引论</h1>
<h2 id="操作系统基础知识"><a class="markdownIt-Anchor" href="#操作系统基础知识"></a> 操作系统基础知识</h2>
<p>定义：操作系统（Operating System，OS）是配置在计算机硬件上的第一层软件，是对硬件系统的首次扩充。<br />
设计目标：在计算机系统上配置操作系统，，其主要目标是<code>方便性</code>，<code>有效性</code>，<code>可扩充性</code>和<code>开放性</code>。<br />
作用：可以从用户，资源管理以及资源抽象等多个不同角度来分析讨论。</p>
<ul>
<li>OS作为用户与计算机硬件系统之间的接口</li>
<li>OS作为计算机系统资源的管理者</li>
<li>OS实现了对计算机资源的抽象</li>
</ul>
<h2 id="操作系统的发展过程"><a class="markdownIt-Anchor" href="#操作系统的发展过程"></a> 操作系统的发展过程</h2>
<p>未配置操作系统的计算机系统——单道批处理系统——多道批处理系统——分时系统——实时系统——微机操作系统的发展</p>
<h2 id="单道批处理和多道批处理系统的原理优缺点"><a class="markdownIt-Anchor" href="#单道批处理和多道批处理系统的原理优缺点"></a> 单道批处理和多道批处理系统的原理，优缺点</h2>
<h3 id="单道批处理系统"><a class="markdownIt-Anchor" href="#单道批处理系统"></a> 单道批处理系统</h3>
<h4 id="原理"><a class="markdownIt-Anchor" href="#原理"></a> 原理</h4>
<p>计算机系统自动的一个作业紧接一个作业地进行处理，直至磁带上所有作业全部完成。虽然系统对作业的处理是成批的，但在内存中始终只保持一道作业。</p>
<h4 id="优缺点"><a class="markdownIt-Anchor" href="#优缺点"></a> 优缺点</h4>
<p>主要缺点是系统中的资源得不到充分利用。优点是一定程度上提高了系统资源利用率。</p>
<h3 id="多道批处理系统"><a class="markdownIt-Anchor" href="#多道批处理系统"></a> 多道批处理系统</h3>
<h4 id="原理-2"><a class="markdownIt-Anchor" href="#原理-2"></a> 原理</h4>
<p>用户所提交的作业先存放在外存上，并排成一个队列，然后作业调度程序按照一定的算法，从队列选择若干个作业调入内存，使他们共享CPU和系统中的各种资源。</p>
<h4 id="优缺点-2"><a class="markdownIt-Anchor" href="#优缺点-2"></a> 优缺点</h4>
<ul>
<li>资源利用率高</li>
<li>系统吞吐量大</li>
<li>平均周转时间长</li>
<li>无交互能力</li>
</ul>
<h2 id="分时实时系统的特征"><a class="markdownIt-Anchor" href="#分时实时系统的特征"></a> 分时，实时系统的特征</h2>
<h3 id="分时系统"><a class="markdownIt-Anchor" href="#分时系统"></a> 分时系统</h3>
<ul>
<li>多路性</li>
<li>独立性</li>
<li>及时性</li>
<li>交互性</li>
</ul>
<h3 id="实时系统"><a class="markdownIt-Anchor" href="#实时系统"></a> 实时系统</h3>
<ul>
<li>多路性</li>
<li>独立性</li>
<li>及时性</li>
<li>交互性</li>
<li>可靠性</li>
</ul>
<h1 id="进程的描述与控制"><a class="markdownIt-Anchor" href="#进程的描述与控制"></a> 进程的描述与控制</h1>
<h2 id="进程的基本知识"><a class="markdownIt-Anchor" href="#进程的基本知识"></a> 进程的基本知识</h2>
<h3 id="基本概念"><a class="markdownIt-Anchor" href="#基本概念"></a> 基本概念</h3>
<p>进程是进程实体的运行过程，是系统进行<code>资源分配</code>和<code>调度</code>的一个独立单位。（这是传统的操作系统进程概念，在引入线程的操作系统中，进程只是拥有资源的基本单位）</p>
<h3 id="特征"><a class="markdownIt-Anchor" href="#特征"></a> 特征</h3>
<ul>
<li>动态性：进程的实质是进程实体的执行过程，它由创建而产生的，因调度而执行，因撤销而消亡</li>
<li>并发性：多个进程实体同存于内存中，且能在一段时间内运行</li>
<li>独立性：进程实体是一个能独立运行，独立获得资源和接收调度的基本单位</li>
<li>异步性：各个进程按各自独立的，不可预知的速度向前推进</li>
</ul>
<h3 id="状态转换"><a class="markdownIt-Anchor" href="#状态转换"></a> 状态转换</h3>
<p>进程有三个基本状态，<code>就绪状态</code>，<code>执行状态</code>，<code>阻塞状态</code>。<br />
为了满足进程控制块（PCB）对数据及操作的完整性要求以及增强管理的灵活性，通常在系统中又为进程引入了两种常见状态：<code>创建状态</code>和<code>中止状态</code>。<br />
<a target="_blank" rel="noopener" href="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/12/QQ%E6%88%AA%E5%9B%BE20191205210058.png!webp"><img src= "/img/loading.gif" data-lazy-src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/12/QQ%E6%88%AA%E5%9B%BE20191205210058.png!webp" alt="" /></a></p>
<h2 id="线程的基本知识"><a class="markdownIt-Anchor" href="#线程的基本知识"></a> 线程的基本知识</h2>
<h3 id="线程的概念"><a class="markdownIt-Anchor" href="#线程的概念"></a> 线程的概念</h3>
<p>线程是操作系统<code>调度</code>和<code>分派</code>的基本单位。</p>
<h3 id="线程状态与线程控制块tcb"><a class="markdownIt-Anchor" href="#线程状态与线程控制块tcb"></a> 线程状态与线程控制块（TCB）</h3>
<h4 id="线程状态"><a class="markdownIt-Anchor" href="#线程状态"></a> 线程状态</h4>
<ul>
<li>执行状态</li>
<li>就绪状态</li>
<li>阻塞状态</li>
</ul>
<h4 id="线程控制块"><a class="markdownIt-Anchor" href="#线程控制块"></a> 线程控制块</h4>
<p>所有用于控制和管理线程的信息纪录在线程控制块中。数据结构包含：</p>
<ol>
<li>线程标识符</li>
<li>一组寄存器</li>
<li>线程执行状态</li>
<li>优先级</li>
<li>线程专有存储区</li>
<li>信号屏蔽</li>
<li>堆栈指针</li>
</ol>
<h2 id="进程和线程的区别"><a class="markdownIt-Anchor" href="#进程和线程的区别"></a> 进程和线程的区别</h2>
<p>从以下六个方面进行讨论</p>
<ol>
<li>调度性：在传统OS中，<code>拥有资源的基本单位</code>，<code>独立调度</code>和<code>分派的基本单位</code>都是进程。在引入线程的OS中，把线程作为<code>调度</code>和<code>分派</code>的基本单位，进程只是<code>拥有资源的基本单位</code>。</li>
<li>并发性：在引入进程的OS中，不仅线程间可以并发执行，而且在一个进程内的多线程间，也可以并发执行。</li>
<li>拥有资源：拥有资源的基本单位一直是进程，线程除了一点在运行中必不可少的资源，本身不拥有系统资源，但它可以共享其隶属进程的资源。</li>
<li>独立性：每个进程都能独立申请资源和独立运行，但是同一进程的多个线程则共享进程的内存地址空间和其他资源，他们之间独立性要比进程之间独立性低。</li>
<li>系统开销：在创建或者撤销进程时，系统都要为之分配和回收进程控制块（PCB）以及其他资源，进程切换时所要保存和设置的现场信息也要明显多于线程。由于隶属于一个进程的多个线程共享同一地址空间，线程间的同步与通讯也比进程简单。</li>
<li>支持多处理机系统：传统的进程只能运行在一个处理机上，多线程的进程，则可以将进程中的多个线程分配到多个处理机上，从而获得更好的并发执行效果。</li>
</ol>
<h2 id="前驱图"><a class="markdownIt-Anchor" href="#前驱图"></a> 前驱图</h2>
<p>前驱图是指一个有向无循环图（DAG），用于描述进程之间执行的先后顺序。</p>
<h2 id="pcb中的信息组织形式"><a class="markdownIt-Anchor" href="#pcb中的信息组织形式"></a> PCB中的信息，组织形式</h2>
<h3 id="pcb概念"><a class="markdownIt-Anchor" href="#pcb概念"></a> PCB概念</h3>
<p>PCB作为进程实体的一部分，记录了操作系统所需的，用于<code>描述进程的当前情况</code>以及<code>管理进程运行的全部信息</code>，是操作系统中最重要的记录型数据结构。</p>
<h3 id="pcb中的信息"><a class="markdownIt-Anchor" href="#pcb中的信息"></a> PCB中的信息</h3>
<ul>
<li>进程标识符</li>
<li>
<ul>
<li>外部标识符：方便用户（进程）对进程的访问</li>
</ul>
</li>
<li>
<ul>
<li>内部标识符：方便系统对进程的访问</li>
</ul>
</li>
<li>处理机状态：处理机的上下文，主要是由处理机的各种寄存器中的内容组成的。</li>
<li>进程调度信息：进程状态，进程优先级，进程调度所需其他信息，事件</li>
<li>进程控制信息：数据与程序的地址，进程同步和通信机制，资源清单，链接指针</li>
</ul>
<h3 id="pcb的组织形式"><a class="markdownIt-Anchor" href="#pcb的组织形式"></a> PCB的组织形式</h3>
<ul>
<li>线性方式：把系统所有PCB都组织在一张线性表中</li>
<li>链接方式：把所有相同状态进程的PCB分别通过PCB中的链接字链接成一个队列</li>
<li>索引方式：根据所有进程状态的不同，建立几张索引表</li>
</ul>
<h2 id="临界资源临界区"><a class="markdownIt-Anchor" href="#临界资源临界区"></a> 临界资源，临界区</h2>
<p>临界资源是一次仅允许一个进程使用的共享资源。<br />
每个进程中访问临界资源的那段代码称为临界区。</p>
<h2 id="信号量机制"><a class="markdownIt-Anchor" href="#信号量机制"></a> 信号量机制</h2>
<p>信号量是一种卓有成效的进程同步工具。可利用信号量实现进程互斥。</p>
<h1 id="处理机调度与死锁"><a class="markdownIt-Anchor" href="#处理机调度与死锁"></a> 处理机调度与死锁</h1>
<h2 id="处理机的三级调度"><a class="markdownIt-Anchor" href="#处理机的三级调度"></a> 处理机的三级调度</h2>
<p>一个作业从提交开始，往往要经历下述三级调度</p>
<h3 id="高级调度"><a class="markdownIt-Anchor" href="#高级调度"></a> 高级调度</h3>
<p>又叫<code>作业调度</code>或者长程调度，用于决定把外存后备队列中的哪些作业调入内存，为他们创建进程。</p>
<h3 id="低级调度"><a class="markdownIt-Anchor" href="#低级调度"></a> 低级调度</h3>
<p>又叫<code>进程调度</code>或短程调度，用来决定就绪队列中哪个进程先获得处理机，并将处理机分配给选中的进程，具体有两种方式</p>
<h4 id="非抢占方式"><a class="markdownIt-Anchor" href="#非抢占方式"></a> 非抢占方式</h4>
<p>一旦进程获得CPU，它将一直执行，直至该进程完成或者发生某些事件而阻塞时才会把CPU让出去。</p>
<h4 id="抢占方式"><a class="markdownIt-Anchor" href="#抢占方式"></a> 抢占方式</h4>
<p>系统可以根据某种原则让一正在执行的进程暂停，并将已分配给他的处理机重新分配给另一个进程</p>
<h5 id="优先权原则"><a class="markdownIt-Anchor" href="#优先权原则"></a> 优先权原则</h5>
<p>就绪的高优先权进程有权抢占低优先权进程的CPU</p>
<h5 id="短作业优先原则"><a class="markdownIt-Anchor" href="#短作业优先原则"></a> 短作业优先原则</h5>
<p>就绪的短进程有权抢占长进程的CPU</p>
<h5 id="时间片原则"><a class="markdownIt-Anchor" href="#时间片原则"></a> 时间片原则</h5>
<p>一个时间片用完后，系统重新进行进程调度</p>
<h3 id="中级调度"><a class="markdownIt-Anchor" href="#中级调度"></a> 中级调度</h3>
<p>又称内存调度或中程调度，它按一定算法将外存中已具备运行条件的进程换入内存，将内存中处于阻塞状态的某些进程换至外存</p>
<h2 id="调度队列模型"><a class="markdownIt-Anchor" href="#调度队列模型"></a> 调度队列模型</h2>
<p><a target="_blank" rel="noopener" href="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/12/QQ%E6%88%AA%E5%9B%BE20191206202001.png!webp"><img src= "/img/loading.gif" data-lazy-src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/12/QQ%E6%88%AA%E5%9B%BE20191206202001.png!webp" alt="" /></a></p>
<h2 id="周转时间平均周转时间带权周转时间平均带权周转时间算法"><a class="markdownIt-Anchor" href="#周转时间平均周转时间带权周转时间平均带权周转时间算法"></a> 周转时间，平均周转时间，带权周转时间，平均带权周转时间算法</h2>
<p>周转时间 = 作业完成时间 − 作业提交时间<br />
平均周转时间 = 所有作业周转时间之和/总作业数量<br />
带权周转时间 = 作业周转时间/提供服务的时间之比<br />
平均带权周转时间 = 所有作业带权周转时间之和/总作业数量</p>
<h2 id="响应时间截止时间和系统吞吐量"><a class="markdownIt-Anchor" href="#响应时间截止时间和系统吞吐量"></a> 响应时间，截止时间和系统吞吐量</h2>
<p>响应时间是提交请求和返回该请求的响应之间使用的时间<br />
截止时间是某任务必须开始执行或者必须完成的最迟时间<br />
吞吐量是对单位时间内完成的工作量的量度</p>
<h2 id="调度算法的基本原理"><a class="markdownIt-Anchor" href="#调度算法的基本原理"></a> 调度算法的基本原理</h2>
<p>总体上说，我们需要何时调度（调度的时机）、是否能够在内核执行的任意位置进行调度（调度的方式）、如何完成进程切换（上下文切换）、如何选择“合适”的进程执行（调度策略/调度算法）、如何评价选择的合理性（进程调度的指标）。</p>
<h2 id="死锁基础知识"><a class="markdownIt-Anchor" href="#死锁基础知识"></a> 死锁基础知识</h2>
<h3 id="死锁定义"><a class="markdownIt-Anchor" href="#死锁定义"></a> 死锁定义</h3>
<p>如果一组进程中的每个进程都在等待仅由该进程中的其他进程才能引发的事件，那么该组进程就是死锁的。</p>
<h3 id="死锁的产生"><a class="markdownIt-Anchor" href="#死锁的产生"></a> 死锁的产生</h3>
<p>需要<code>同时具备</code>以下四个条件，<code>互斥条件</code>，<code>请求和保持条件</code>，<code>不可抢占条件</code>，<code>循环等待条件</code>。</p>
<h3 id="死锁的预防"><a class="markdownIt-Anchor" href="#死锁的预防"></a> 死锁的预防</h3>
<ul>
<li>破坏<code>请求和保持</code>条件：当一个进程请求资源时，它不能持有不可抢占资源。</li>
<li>破坏<code>不可抢占</code>条件：当一个已经保持了某些不可抢占资源的进程，提出新的资源请求而不能得到满足时，他必须释放已经保持的所有资源。</li>
<li>破坏<code>循环等待</code>条件：赋予每个进程序号，规定每个进程必须按序号递增的顺序请求资源。</li>
</ul>
<h3 id="死锁的避免"><a class="markdownIt-Anchor" href="#死锁的避免"></a> 死锁的避免</h3>
<p>保持系统安全状态</p>
<h2 id="银行家算法"><a class="markdownIt-Anchor" href="#银行家算法"></a> 银行家算法</h2>
<p>最有代表性的避免死锁算法</p>
<h3 id="银行家算法中的数据结构"><a class="markdownIt-Anchor" href="#银行家算法中的数据结构"></a> 银行家算法中的数据结构</h3>
<ul>
<li>可利用资源向量Available：表示某种资源还剩多少可用</li>
<li>最大需求矩阵Max：表示最多需要多少资源</li>
<li>分配矩阵Allocation：表示已经分配的资源</li>
<li>需求矩阵Need：表示还需要多少资源才能完成任务</li>
</ul>
<p>并有以下关系<br />
<code>Need[i,j] = Max[i,j]-Allocation[i,j]</code></p>
<h3 id="银行家算法-2"><a class="markdownIt-Anchor" href="#银行家算法-2"></a> 银行家算法</h3>
<p>设Request是进程P的请求向量，表示请求Request个资源<br />
有以下步骤<br />
<a target="_blank" rel="noopener" href="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/12/QQ%E6%88%AA%E5%9B%BE20191207135111.png!webp"><img src= "/img/loading.gif" data-lazy-src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/12/QQ%E6%88%AA%E5%9B%BE20191207135111.png!webp" alt="" /></a></p>
<h1 id="存储器管理"><a class="markdownIt-Anchor" href="#存储器管理"></a> 存储器管理</h1>
<h2 id="存储器的基础知识"><a class="markdownIt-Anchor" href="#存储器的基础知识"></a> 存储器的基础知识</h2>
<h3 id="存储器结构"><a class="markdownIt-Anchor" href="#存储器结构"></a> 存储器结构</h3>
<p><a target="_blank" rel="noopener" href="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/12/QQ%E6%88%AA%E5%9B%BE20191207142338.png!webp"><img src= "/img/loading.gif" data-lazy-src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/12/QQ%E6%88%AA%E5%9B%BE20191207142338.png!webp" alt="" /></a></p>
<h3 id="主存储器"><a class="markdownIt-Anchor" href="#主存储器"></a> 主存储器</h3>
<p>简称内存或主存，用于保存进程运行时的程序和数据，也叫执行存储器，通常处理机都是从主存储器中取得指令和数据的，并将指令放入指令寄存器中，数据放入数据寄存器中。</p>
<h3 id="寄存器"><a class="markdownIt-Anchor" href="#寄存器"></a> 寄存器</h3>
<p>寄存器具有与处理机相同的速度，对寄存器的访问速度最快，完全能与CPU协作。<br />
寄存器主要用于存放处理机运行时数据，加速存储器访问速度。</p>
<h3 id="高速缓存"><a class="markdownIt-Anchor" href="#高速缓存"></a> 高速缓存</h3>
<p>它是介于寄存器和存储器之间的存储器，主要用于备份主存中比较常见的数据，减少处理机对主存储器的访问次数。</p>
<h3 id="磁盘缓存"><a class="markdownIt-Anchor" href="#磁盘缓存"></a> 磁盘缓存</h3>
<p>目前磁盘I/O远低于对主存的访问速度，为了缓和两者之间在速度上不匹配，设置了磁盘缓存。主要用于暂时存放频繁使用的一部分磁盘数据和信息。</p>
<h2 id="程序运行的处理阶段"><a class="markdownIt-Anchor" href="#程序运行的处理阶段"></a> 程序运行的处理阶段</h2>
<p>主要有编译，链接，装入，下面主要讲链接和装入</p>
<h3 id="程序的链接"><a class="markdownIt-Anchor" href="#程序的链接"></a> 程序的链接</h3>
<p>源程序经过编译后，可得到一组目标模块。链接程序的功能是将这组目标模块以及它们所需要的库函数装配成一个完整的装入模块。<br />
链接又可分为<code>静态链接</code>，<code>装入时动态链接</code>，<code>运行时动态链接</code>。</p>
<h3 id="程序的装入"><a class="markdownIt-Anchor" href="#程序的装入"></a> 程序的装入</h3>
<p>分为<code>绝对装入方式</code>，<code>可重定位装入方式</code>，<code>动态运行时的装入方式</code>。</p>
<h2 id="内存的分配方式"><a class="markdownIt-Anchor" href="#内存的分配方式"></a> 内存的分配方式</h2>
<p>单一连续分配<br />
固定分区分配<br />
动态分区分配<br />
基于顺序搜索的动态分区分配：首次适应算法，循环首次适应算法，最佳适应算法，最坏适应算法<br />
基于索引搜索的动态分区分配：快速适应算法，伙伴系统，哈希算法<br />
动态可重定位分区分<br />
离散分配：分页存储管理方式，分段存储管理方式，段页式存储管理方式</p>
<h2 id="分页存储管理方式基础知识"><a class="markdownIt-Anchor" href="#分页存储管理方式基础知识"></a> 分页存储管理方式基础知识</h2>
<h3 id="分页存储原理"><a class="markdownIt-Anchor" href="#分页存储原理"></a> 分页存储原理</h3>
<p>将用户程序的地址空间分为若干个固定大小的区域，称为“页”或“页面”，也将内存空间分为若干物理块或页框。</p>
<h3 id="分段存储原理"><a class="markdownIt-Anchor" href="#分段存储原理"></a> 分段存储原理</h3>
<p>把用户程序地址空间分为若干个大小不同的段，每段可定义一组相对完整的信息。</p>
<h3 id="逻辑地址与物理地址映射"><a class="markdownIt-Anchor" href="#逻辑地址与物理地址映射"></a> 逻辑地址与物理地址映射</h3>
<p>系统为每个进程建立了一张页面映像表，称为页表，在进程地址空间内的所有页（0~n），依次在页表中有一页表项，记录了相应页在内存中对应物理块号。通过查找该表，即可找到每页在内存中的物理块号。</p>
<h3 id="快表的定义"><a class="markdownIt-Anchor" href="#快表的定义"></a> 快表的定义</h3>
<p>为了提高地址变换速度，可在地址变换机构中增设一个具有并行查寻能力的特殊高速缓冲寄存器，称为快表。</p>
<h3 id="内存访问时间的计算"><a class="markdownIt-Anchor" href="#内存访问时间的计算"></a> 内存访问时间的计算</h3>
<p>从进程发出指定逻辑地址的访问请求，进过地址变换，到在内存中找到对应的实际物理地址单元并取出数据，所花费的总时间，称为内存的有效访问时间（EAT）。<br />
在传统的分页存储管理方式中：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mi>A</mi><mi>T</mi><mtext>  </mtext><mo>=</mo><mtext>  </mtext><mn>2</mn><mi>t</mi></mrow><annotation encoding="application/x-tex">EAT\;=\;2t
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault">t</span></span></span></span></span></p>
<p>在引入快表的分页存储管理方式中：(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>λ</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">λ</span></span></span></span>为查找快表时间，a表示命中率，t表示访问一次内存所需要的时间)</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mi>A</mi><mi>T</mi><mtext>  </mtext><mo>=</mo><mtext>  </mtext><mi>a</mi><mtext>  </mtext><mo>×</mo><mtext>  </mtext><mi>λ</mi><mtext>  </mtext><mo>+</mo><mtext>  </mtext><mo stretchy="false">(</mo><mi>t</mi><mtext>  </mtext><mo>+</mo><mtext>  </mtext><mi>λ</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mn>1</mn><mtext>  </mtext><mo>−</mo><mtext>  </mtext><mi>a</mi><mo stretchy="false">)</mo><mtext>  </mtext><mo>+</mo><mtext>  </mtext><mi>t</mi><mtext>  </mtext><mo>=</mo><mtext>  </mtext><mn>2</mn><mi>t</mi><mtext>  </mtext><mo>+</mo><mtext>  </mtext><mi>λ</mi><mtext>  </mtext><mo>−</mo><mtext>  </mtext><mi>t</mi><mtext>  </mtext><mo>×</mo><mtext>  </mtext><mi>a</mi></mrow><annotation encoding="application/x-tex">EAT\;=\;a\;\times\;\lambda\;+\;(t\;+\;\lambda)(1\;-\;a)\;+\;t\;=\;2t\;+\;\lambda\;-\;t\;\times\;a
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">λ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">λ</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">λ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69841em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span></span></span></span></span></p>
<h1 id="虚拟存储器"><a class="markdownIt-Anchor" href="#虚拟存储器"></a> 虚拟存储器</h1>
<h2 id="虚拟存储的实现方式"><a class="markdownIt-Anchor" href="#虚拟存储的实现方式"></a> 虚拟存储的实现方式</h2>
<p>虚拟内存的实现都是建立在离散（动态）分配存储管理方式的基础上。主要有两种实现方式：</p>
<h3 id="分页请求系统"><a class="markdownIt-Anchor" href="#分页请求系统"></a> 分页请求系统</h3>
<p>在分页系统基础上增加了请求调页功能和页面置换功能所形成的页式虚拟存储系统。它允许用户程序只装入少数界面的程序（及数据）即可启动运行，以后再通过<code>调页功能</code>及<code>页面置换功能</code>陆续将即将运行的页面调入内存，同时把不用的页面再换出到外存上。<br />
硬件支持：<code>请求分页的页表机制</code>，<code>缺页中断结构</code>，<code>地址变换机构</code><br />
实现请求分页的软件：包括用于实现请求调页的软件和实现页面置换的软件，在硬件支持下，将程序正在运行时所需的页面（尚未在内存中）调入内存，再将内存中暂时不用的页面从内存置换到磁盘上</p>
<h3 id="请求分段系统"><a class="markdownIt-Anchor" href="#请求分段系统"></a> 请求分段系统</h3>
<p>在分段系统基础上增加了请求调段功能和分段置换功能所形成的段式虚拟存储系统，具体实现原理同分页请求系统，不过载体是“段”不是“页”</p>
<h2 id="页面置换算法"><a class="markdownIt-Anchor" href="#页面置换算法"></a> 页面置换算法</h2>
<h3 id="最佳置换算法opt"><a class="markdownIt-Anchor" href="#最佳置换算法opt"></a> 最佳置换算法（OPT）</h3>
<p>其所选择被淘汰的页面将是以后永不使用的，或许是在最长（未来）时间内不再被访问的页面，但是因为未来不可预知，所以该算法不能实现。</p>
<h3 id="先进先出置换算法fifo"><a class="markdownIt-Anchor" href="#先进先出置换算法fifo"></a> 先进先出置换算法（FIFO）</h3>
<p>总是先淘汰最先进入内存的页面。</p>
<h3 id="最近最久未使用算法lru"><a class="markdownIt-Anchor" href="#最近最久未使用算法lru"></a> 最近最久未使用算法（LRU）</h3>
<p>选择最近最久未使用内存页面进行淘汰。需要较多硬件支持。</p>
<h3 id="最少使用置换算法lfu"><a class="markdownIt-Anchor" href="#最少使用置换算法lfu"></a> 最少使用置换算法（LFU）</h3>
<p>在内存为每个页面设置一个移位寄存器记录该页面被访问频率，选择最近时期使用最少的页面作为淘汰页。</p>
<h3 id="clock置换算法"><a class="markdownIt-Anchor" href="#clock置换算法"></a> Clock置换算法</h3>
<p>是一种LRU算法<br />
每页设置一个访问位，再将内存中的所有页面都通过链接指针链接成一个循环队列；<br />
当某个页面被访问时，其访问位置1。淘汰时，检查其访问位，如果是0，就换出；若为1，则重新将它置0；<br />
再按FIFO算法检查下一个页面，到队列中的最后一个页面时，若其访问位仍为1，则再返回到队首再去检查第一个页面；</p>
<h1 id="输入输出系统"><a class="markdownIt-Anchor" href="#输入输出系统"></a> 输入输出系统</h1>
<h2 id="设备控制器基本知识"><a class="markdownIt-Anchor" href="#设备控制器基本知识"></a> 设备控制器基本知识</h2>
<p>I/O系统是OS的重要组成部分，用于管理诸如打印机和扫描仪等I/O设备，以及用于存储数据，如磁盘驱动器和磁带机等各种存储设备。I/O系统管理主要对象是I/O设备和相应设备控制器。主要任务是完成用户提出的I/O请求，提高I/O效率以及设备利用率。</p>
<h3 id="io系统基本功能"><a class="markdownIt-Anchor" href="#io系统基本功能"></a> I/O系统基本功能</h3>
<ul>
<li>隐藏物理设备的细节</li>
<li>与设备的无关性</li>
<li>提高处理机和I/O设备的利用率</li>
<li>对I/O设备进行控制</li>
<li>确保对设备的正确共享</li>
<li>错误处理</li>
</ul>
<h2 id="io通道的类型和瓶颈问题"><a class="markdownIt-Anchor" href="#io通道的类型和瓶颈问题"></a> I/O通道的类型和瓶颈问题</h2>
<p>I/O通道主要目的是为了建立独立的I/O操作，使数据的传送能独立于CPU，是一种特殊的处理机，具有执行I/O指令的能力，并通过执行通道程序来控制I/O操作。</p>
<h3 id="通道类型"><a class="markdownIt-Anchor" href="#通道类型"></a> 通道类型</h3>
<p>字节多路通道<br />
数组选择通道<br />
数组多路通道</p>
<h3 id="瓶颈问题"><a class="markdownIt-Anchor" href="#瓶颈问题"></a> 瓶颈问题</h3>
<p>通道价格昂贵，致使机器中所设置的通道数量势必较少，这往往又使它成了I/O瓶颈。</p>
<h2 id="缓冲的基本知识"><a class="markdownIt-Anchor" href="#缓冲的基本知识"></a> 缓冲的基本知识</h2>
<h3 id="为什么需要缓冲"><a class="markdownIt-Anchor" href="#为什么需要缓冲"></a> 为什么需要缓冲</h3>
<p><code>缓和CPU和I/O设备之间设备不匹配的矛盾</code>：事实上，凡是数据到达速率和离去速率不同的地方都可以设置缓冲区，比如CPU速率远高于I/O设备，如果没有缓冲区，那么CPU向打印机输出数据时，打印机肯定难顶，CPU需要停下来等他。如果是打印机向CPU传送数据就会频繁中断CPU造成性能浪费。<br />
<code>减少对CPU的中断频率，放宽对CPU中断响应时间</code>：在远程通信中，如果远地终端发来的数据仅用一位缓冲来接收，就意味着每收到一位数据就要中断一次CPU，而且CPU需要及时响应，不然缓冲区数据会被冲掉。类似的，在磁带控制器和磁盘控制器中都要设置缓冲寄存器，减少对CPU的中断频率。</p>
<h3 id="缓冲的分类"><a class="markdownIt-Anchor" href="#缓冲的分类"></a> 缓冲的分类</h3>
<p>单缓冲区，数据处理时间为： Max(C,T)+M（从磁盘把一块数据输入到缓冲区的时间为T，OS将该缓冲区中的数据传送到用户区的时间为M，CPU对这一块数据处理的时间为C）<br />
双缓冲区，数据处理时间为：Max(C，T)<br />
环形缓冲区，由三种类型缓冲区组成，装输入数据的空缓冲区R，已装满数据的缓冲区G，以及正在使用的现行工作缓冲区C。<br />
<a target="_blank" rel="noopener" href="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/12/QQ%E6%88%AA%E5%9B%BE20191207191529.png!webp"><img src= "/img/loading.gif" data-lazy-src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/12/QQ%E6%88%AA%E5%9B%BE20191207191529.png!webp" alt="" /></a></p>
<h2 id="独占设备共享设备虚拟设备的特点"><a class="markdownIt-Anchor" href="#独占设备共享设备虚拟设备的特点"></a> 独占设备，共享设备，虚拟设备的特点</h2>
<ul>
<li>独占设备：指在一段时间内只允许一个用户（进程）访问的设备，即临界资源；</li>
<li>共享设备：指在一段时间内允许多个进程同时访问的设备，如：磁盘；</li>
<li>虚拟设备：指通过虚拟技术将一台独占设备变换为若干台逻辑设备，供若干个用户同时使用；</li>
</ul>
<h2 id="spooling技术的基础知识"><a class="markdownIt-Anchor" href="#spooling技术的基础知识"></a> Spooling技术的基础知识</h2>
<h3 id="概念"><a class="markdownIt-Anchor" href="#概念"></a> 概念</h3>
<p>是Simultaneous Peripheral Operation On-Line (即外部设备联机并行操作)的缩写，是关于慢速字符设备如何与计算机主机交换信息的一种技术，通常称为“假脱机技术”</p>
<h3 id="组成"><a class="markdownIt-Anchor" href="#组成"></a> 组成</h3>
<p>输入井和输出井。这是在磁盘上开辟的两个大存储空间；<br />
输入缓冲区和输出缓冲区。在内存中要开辟两个缓冲区；<br />
输入进程SPi和输出进程SPo。这里利用两个进程来模拟脱机I/O时的外围控制机；</p>
<h3 id="特点"><a class="markdownIt-Anchor" href="#特点"></a> 特点</h3>
<p>提高了I/O的速度。<br />
将独占设备改造为共享设备。<br />
实现了虚拟设备功能。</p>
<h2 id="磁盘格式化访问时间磁盘调度算法计算平均寻道长度"><a class="markdownIt-Anchor" href="#磁盘格式化访问时间磁盘调度算法计算平均寻道长度"></a> 磁盘格式化，访问时间，磁盘调度算法计算平均寻道长度</h2>
<h3 id="低级格式化"><a class="markdownIt-Anchor" href="#低级格式化"></a> 低级格式化</h3>
<p>将空白的磁盘划分出柱面和磁道，再将磁道划分为若干个扇区，每个扇区又划分出标识部分ID、间隔区GAP和数据区DATA等。<br />
低级格式化只能针对一块硬盘而不能支持单独的某一个分区。每块硬盘在出厂时，已由硬盘生产商进行低级格式化，通常无需再进行低级格式化操作。<br />
对于硬盘上出现逻辑坏道或者软性物理坏道，可以使用低级格式化来达到屏蔽坏道的作用；<br />
低级格式化就是和操作系统无关的格式化。</p>
<h3 id="高级格式化"><a class="markdownIt-Anchor" href="#高级格式化"></a> 高级格式化</h3>
<p>就是清除硬盘上的数据、生成引导区信息、初始化FAT表、标注逻辑坏道等。<br />
高级格式化主要是对硬盘的各个分区进行磁道的格式化，在逻辑上划分磁道。<br />
长期以来，硬盘在储存数据时，都是以512B大小的扇区(Sector)为单位分割进行读写。随着硬盘容量的不断提升，这种分配标准已经越来越显的不合时宜。因此，将扇区容量扩大到4KB。<br />
高级格式化可以优化硬盘，从而最大限度地利用全新操作系统的功能。<br />
高级格式化就是和操作系统有关的格式化。</p>
<h3 id="磁盘访问时间"><a class="markdownIt-Anchor" href="#磁盘访问时间"></a> 磁盘访问时间</h3>
<h4 id="寻道时间"><a class="markdownIt-Anchor" href="#寻道时间"></a> 寻道时间</h4>
<p>磁臂(磁头)移动到指定磁道上所经历的时间。该时间是启动磁臂的时间s与磁头移动n条磁道所花费的时间之和， 即Ts=m×n+s，其中，m是一常数，与磁盘驱动器的速度有关；</p>
<h4 id="旋转延迟时间"><a class="markdownIt-Anchor" href="#旋转延迟时间"></a> 旋转延迟时间</h4>
<p>指定扇区移动到磁头下面所经历的时间。</p>
<h4 id="传输时间"><a class="markdownIt-Anchor" href="#传输时间"></a> 传输时间</h4>
<p>数据从磁盘读出或向磁盘写入数据所经历的时间。<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">T_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的大小与每次所读/写的字节数b和旋转速度有关</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mi>t</mi></msub><mtext>  </mtext><mo>=</mo><mtext>  </mtext><mfrac><mi>b</mi><mrow><mi>r</mi><mi>N</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">T_t\;=\;\frac b{rN}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.05744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault">b</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>其中，r为磁盘每秒钟的转数；N为一条磁道上的字节数，当一次读/写的字节数相当于半条磁道上的字节数时，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">T_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>与<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">T_r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>相同，因此，可将访问时间<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mi>a</mi></msub></mrow><annotation encoding="application/x-tex">T_a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>表示为</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mi>a</mi></msub><mtext>  </mtext><mo>=</mo><mtext>  </mtext><msub><mi>T</mi><mi>s</mi></msub><mtext>  </mtext><mo>+</mo><mtext>  </mtext><mfrac><mn>1</mn><mrow><mn>2</mn><mi>r</mi></mrow></mfrac><mtext>  </mtext><mo>+</mo><mtext>  </mtext><mfrac><mi>b</mi><mrow><mi>r</mi><mi>N</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">T_a\;=\;T_s\;+\;\frac1{2r}\;+\;\frac b{rN}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord">1</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.05744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault">b</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<h3 id="磁盘调度算法"><a class="markdownIt-Anchor" href="#磁盘调度算法"></a> 磁盘调度算法</h3>
<h4 id="先来先服务fcfs算法"><a class="markdownIt-Anchor" href="#先来先服务fcfs算法"></a> 先来先服务（FCFS）算法</h4>
<p>按访问请求到达的先后次序服务<br />
优点：简单，公平；<br />
缺点：效率不高，相临两次请求可能会造成最内到最外的柱面寻道，使磁头反复移动，增加了服务时间，对机械也不利；</p>
<h4 id="最短寻道时间优先sstf算法"><a class="markdownIt-Anchor" href="#最短寻道时间优先sstf算法"></a> 最短寻道时间优先（SSTF）算法</h4>
<p>优先选择距当前磁头最近的访问请求进行服务，主要考虑寻道优先<br />
优点：改善了磁盘平均服务时间；<br />
缺点：造成某些访问请求长期等待得不到服务</p>
<h4 id="扫描scan电梯算法"><a class="markdownIt-Anchor" href="#扫描scan电梯算法"></a> 扫描（SCAN，电梯）算法</h4>
<p>克服了最短寻道优先的缺点，既考虑了距离，同时又考虑了方向；<br />
当设备无访问请求时，磁头不动；<br />
当有访问请求时，磁头按一个方向移动，在移动过程中对遇到的访问请求进行服务，然后判断该方向上是否还有访问请求，如果有则继续扫描；<br />
否则改变移动方向，并为经过的访问请求服务，如此反复</p>
<h4 id="循环扫描cscan算法"><a class="markdownIt-Anchor" href="#循环扫描cscan算法"></a> 循环扫描（CSCAN）算法</h4>
<p>总是从0号柱面开始向里扫描<br />
按照各自所要访问的柱面位置的次序去选择访问者<br />
移动臂到达最后个一个柱面后，立即带动读写磁头快速返回到0号柱面<br />
返回时不为任何的等待访问者服务<br />
返回后可再次进行扫描</p>
<h4 id="n-step-scan"><a class="markdownIt-Anchor" href="#n-step-scan"></a> N-Step-SCAN</h4>
<p>将磁盘请求队列分成若干个长度为N的子队列，磁盘调度将按FCFS算法依次处理这些子队列。<br />
处理一个队列时又是按SCAN算法，对一个队列处理完后，再处理其他队列。<br />
当正在处理某子队列时，如果又出现新的磁盘I/O请求，便将新请求进程放入其他队列，这样就可避免出现粘着现象。<br />
当N值取得很大时，会使N步扫描法的性能接近于SCAN算法的性能；当N=1时，N步SCAN算法便蜕化为FCFS算法。</p>
<h4 id="fscan调度算法"><a class="markdownIt-Anchor" href="#fscan调度算法"></a> FSCAN调度算法</h4>
<p>FSCAN算法实质上是N步SCAN算法的简化，即FSCAN只将磁盘请求队列分成两个子队列。<br />
一个是由当前所有请求磁盘I/O的进程形成的队列，由磁盘调度按SCAN算法进行处理。<br />
在扫描期间，将新出现的所有请求磁盘I/O的进程，放入另一个等待处理的请求队列。<br />
所有的新请求都将被推迟到下一次扫描时处理。</p>
<h1 id="文件管理"><a class="markdownIt-Anchor" href="#文件管理"></a> 文件管理</h1>
<h2 id="文件和文件系统的基本知识"><a class="markdownIt-Anchor" href="#文件和文件系统的基本知识"></a> 文件和文件系统的基本知识</h2>
<p>文件是指由创建者所定义的、具有文件名的一组相关元素的集合。可分为有结构文件和无结构文件两种。<br />
文件系统是指操作系统中各类文件、管理文件的软件，以及管理文件所涉及到的数据结构等信息的集合。</p>
<h2 id="外存分配方式的基本原理-优缺点"><a class="markdownIt-Anchor" href="#外存分配方式的基本原理-优缺点"></a> 外存分配方式的基本原理、优缺点</h2>
<h3 id="连续分配"><a class="markdownIt-Anchor" href="#连续分配"></a> 连续分配</h3>
<p>为每一个文件分配一组相邻接的盘块;<br />
把逻辑文件中的记录顺序地存储到邻接的各物理盘块中;<br />
这样形成的文件结构称为顺序文件结构,物理文件称为顺序文件;<br />
优点：顺序访问容易; 顺序访问速度快;<br />
缺点：要求有连续的存储空间; 必须事先知道文件的长度;</p>
<h3 id="链接分配"><a class="markdownIt-Anchor" href="#链接分配"></a> 链接分配</h3>
<p>文件的信息存放在若干不连续的物理块中；<br />
各块之间通过指针连接，前一个物理块指向下一个物理块；<br />
可分为隐式链接和显式链接；<br />
优点：没有外部碎片，空闲空间列表的任何块可以用于满足请求。当创建文件时，并不需要说明文件的大小只，要有可用的空闲块，文件就可以继续增长。因此，无需合并磁盘空间。<br />
缺点：存取速度慢，不适于随机存取;可靠性问题，如指针出错;更多的寻道次数和寻道时间;链接指针占用一定的空间;</p>
<h3 id="索引分配"><a class="markdownIt-Anchor" href="#索引分配"></a> 索引分配</h3>
<p>每个文件都有自己的索引块，这是一个磁盘块地址的数组。</p>
<h2 id="单级索引表"><a class="markdownIt-Anchor" href="#单级索引表"></a> 单级索引表</h2>
<p>一个文件的信息存放在若干不连续物理块中，系统为每个文件建立一个专用数据结构——索引表，并将这些块的块号存放在一个索引表中；<br />
索引分配方式支持直接访问，当要读文件的第i个盘块时，可以方便地直接从索引块中找到第i个盘块的盘块号；<br />
优点：即能顺序存取，又能随机存取；满足了文件动态增长、插入删除的要求；能充分利用外存空间；<br />
缺点：较多的寻道次数和寻道时间;索引表本身带来了系统开销,如：内外存空间，存取时间;</p>
<h2 id="文件目录基础知识"><a class="markdownIt-Anchor" href="#文件目录基础知识"></a> 文件目录基础知识</h2>
<h3 id="简单的文件目录"><a class="markdownIt-Anchor" href="#简单的文件目录"></a> 简单的文件目录</h3>
<h4 id="单级文件目录"><a class="markdownIt-Anchor" href="#单级文件目录"></a> 单级文件目录</h4>
<p>在整个文件系统中只建立一张目录表，每个文件占一个目录项，目录项中含有文件名、文件扩展名、文件长度、文件类型、文件物理地址以及其他文件属性。</p>
<h4 id="两级文件目录"><a class="markdownIt-Anchor" href="#两级文件目录"></a> 两级文件目录</h4>
<p>目录分为两级：一级称为主文件目录MFD，每个用户目录文件都占有一个目录项，包含用户名和指向该用户子目录的指针；二级称为用户文件目录UFD(又称用户子目录)，给出该用户所有文件的FCB；</p>
<h3 id="树形结构目录"><a class="markdownIt-Anchor" href="#树形结构目录"></a> 树形结构目录</h3>
<p>多级目录结构又称为树型目录结构；<br />
主目录称为根目录，数据文件称为树叶，其他目录均作为树的结点；<br />
<a target="_blank" rel="noopener" href="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/12/QQ%E6%88%AA%E5%9B%BE20191207194445.png!webp"><img src= "/img/loading.gif" data-lazy-src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/12/QQ%E6%88%AA%E5%9B%BE20191207194445.png!webp" alt="" /></a></p>
<h3 id="目录查询方法"><a class="markdownIt-Anchor" href="#目录查询方法"></a> 目录查询方法</h3>
<h4 id="线性检索法"><a class="markdownIt-Anchor" href="#线性检索法"></a> 线性检索法</h4>
<p>又称顺序检索法；在单级目录中，利用用户提供的文件名，用顺序查找法直接从文件目录中找到指名文件的目录项；在树型目录中，用户提供的文件名是由多个文件分量名组成的路径名，对多级目录进行查找；</p>
<h4 id="hash方法"><a class="markdownIt-Anchor" href="#hash方法"></a> Hash方法</h4>
<p>系统利用用户提供的文件名并将它变换为文件目录的索引值；<br />
再利用该索引值到目录中去查找，提高检索速度；</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">烟雨迷离半世殇</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://www.lfzxb.top/computer-operating-system-base/">https://www.lfzxb.top/computer-operating-system-base/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.lfzxb.top" target="_blank">烟雨迷离半世殇的成长之路</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/">计算机科学与技术</a></div><div class="post_share"><div class="social-share" data-image="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/12/QQ截图20191205210058.png!webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/04/QQ截图20190430175314.png!webp" target="_blank"><img class="post-qr-code-img" data-lazy-src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/04/QQ截图20190430175314.png!webp" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/04/QQ截图20190430175304.png!webp" target="_blank"><img class="post-qr-code-img" data-lazy-src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/04/QQ截图20190430175304.png!webp" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div></div><div class="ads-wrap"><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-7235595771604497" data-ad-slot="9104433828"></ins><script> (adsbygoogle = window.adsbygoogle || []).push({});</script></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/white-album-2-can-not-convey-the-love/"><img class="prev-cover" data-lazy-src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2020/04/QQ截图20200409101717.png!webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">《白色相簿2》观后感</div></div></a></div><div class="next-post pull-right"><a href="/et-fguiandxasset/"><img class="next-cover" data-lazy-src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/typoraImages/20201016124813.png!webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">ET&amp;&amp;FGUI接入xasset流程</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/data-image-handle-restudy/" title="数字图像处理复习纲要"><img class="cover" data-lazy-src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/typoraImages/20201123200539.png!webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-01</div><div class="title">数字图像处理复习纲要</div></div></a></div><div><a href="/compute-net-base/" title="计算机网络重点知识整理"><img class="cover" data-lazy-src="https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/2019/12/QQ截图20191224221817.png!webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-12-25</div><div class="title">计算机网络重点知识整理</div></div></a></div><div><a href="/principles-of-computer-organization-base/" title="计算机组成原理复习纲要"><img class="cover" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-01</div><div class="title">计算机组成原理复习纲要</div></div></a></div><div><a href="/software-engineering-base/" title="软件工程重点知识整理"><img class="cover" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-11-28</div><div class="title">软件工程重点知识整理</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%BC%95%E8%AE%BA"><span class="toc-number">1.</span> <span class="toc-text"> 操作系统引论</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">1.1.</span> <span class="toc-text"> 操作系统基础知识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8F%91%E5%B1%95%E8%BF%87%E7%A8%8B"><span class="toc-number">1.2.</span> <span class="toc-text"> 操作系统的发展过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E9%81%93%E6%89%B9%E5%A4%84%E7%90%86%E5%92%8C%E5%A4%9A%E9%81%93%E6%89%B9%E5%A4%84%E7%90%86%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8E%9F%E7%90%86%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">1.3.</span> <span class="toc-text"> 单道批处理和多道批处理系统的原理，优缺点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E9%81%93%E6%89%B9%E5%A4%84%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.3.1.</span> <span class="toc-text"> 单道批处理系统</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E7%90%86"><span class="toc-number">1.3.1.1.</span> <span class="toc-text"> 原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">1.3.1.2.</span> <span class="toc-text"> 优缺点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E9%81%93%E6%89%B9%E5%A4%84%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.3.2.</span> <span class="toc-text"> 多道批处理系统</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E7%90%86-2"><span class="toc-number">1.3.2.1.</span> <span class="toc-text"> 原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E7%BC%BA%E7%82%B9-2"><span class="toc-number">1.3.2.2.</span> <span class="toc-text"> 优缺点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%97%B6%E5%AE%9E%E6%97%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%89%B9%E5%BE%81"><span class="toc-number">1.4.</span> <span class="toc-text"> 分时，实时系统的特征</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%97%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.4.1.</span> <span class="toc-text"> 分时系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E6%97%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.4.2.</span> <span class="toc-text"> 实时系统</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%8F%8F%E8%BF%B0%E4%B8%8E%E6%8E%A7%E5%88%B6"><span class="toc-number">2.</span> <span class="toc-text"> 进程的描述与控制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86"><span class="toc-number">2.1.</span> <span class="toc-text"> 进程的基本知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">2.1.1.</span> <span class="toc-text"> 基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E5%BE%81"><span class="toc-number">2.1.2.</span> <span class="toc-text"> 特征</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2"><span class="toc-number">2.1.3.</span> <span class="toc-text"> 状态转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86"><span class="toc-number">2.2.</span> <span class="toc-text"> 线程的基本知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">2.2.1.</span> <span class="toc-text"> 线程的概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%8A%B6%E6%80%81%E4%B8%8E%E7%BA%BF%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%9D%97tcb"><span class="toc-number">2.2.2.</span> <span class="toc-text"> 线程状态与线程控制块（TCB）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%8A%B6%E6%80%81"><span class="toc-number">2.2.2.1.</span> <span class="toc-text"> 线程状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%9D%97"><span class="toc-number">2.2.2.2.</span> <span class="toc-text"> 线程控制块</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.3.</span> <span class="toc-text"> 进程和线程的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E9%A9%B1%E5%9B%BE"><span class="toc-number">2.4.</span> <span class="toc-text"> 前驱图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pcb%E4%B8%AD%E7%9A%84%E4%BF%A1%E6%81%AF%E7%BB%84%E7%BB%87%E5%BD%A2%E5%BC%8F"><span class="toc-number">2.5.</span> <span class="toc-text"> PCB中的信息，组织形式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pcb%E6%A6%82%E5%BF%B5"><span class="toc-number">2.5.1.</span> <span class="toc-text"> PCB概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pcb%E4%B8%AD%E7%9A%84%E4%BF%A1%E6%81%AF"><span class="toc-number">2.5.2.</span> <span class="toc-text"> PCB中的信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pcb%E7%9A%84%E7%BB%84%E7%BB%87%E5%BD%A2%E5%BC%8F"><span class="toc-number">2.5.3.</span> <span class="toc-text"> PCB的组织形式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%B4%E7%95%8C%E8%B5%84%E6%BA%90%E4%B8%B4%E7%95%8C%E5%8C%BA"><span class="toc-number">2.6.</span> <span class="toc-text"> 临界资源，临界区</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E9%87%8F%E6%9C%BA%E5%88%B6"><span class="toc-number">2.7.</span> <span class="toc-text"> 信号量机制</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E6%9C%BA%E8%B0%83%E5%BA%A6%E4%B8%8E%E6%AD%BB%E9%94%81"><span class="toc-number">3.</span> <span class="toc-text"> 处理机调度与死锁</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E6%9C%BA%E7%9A%84%E4%B8%89%E7%BA%A7%E8%B0%83%E5%BA%A6"><span class="toc-number">3.1.</span> <span class="toc-text"> 处理机的三级调度</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6"><span class="toc-number">3.1.1.</span> <span class="toc-text"> 高级调度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%8E%E7%BA%A7%E8%B0%83%E5%BA%A6"><span class="toc-number">3.1.2.</span> <span class="toc-text"> 低级调度</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9E%E6%8A%A2%E5%8D%A0%E6%96%B9%E5%BC%8F"><span class="toc-number">3.1.2.1.</span> <span class="toc-text"> 非抢占方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%A2%E5%8D%A0%E6%96%B9%E5%BC%8F"><span class="toc-number">3.1.2.2.</span> <span class="toc-text"> 抢占方式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BC%98%E5%85%88%E6%9D%83%E5%8E%9F%E5%88%99"><span class="toc-number">3.1.2.2.1.</span> <span class="toc-text"> 优先权原则</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9F%AD%E4%BD%9C%E4%B8%9A%E4%BC%98%E5%85%88%E5%8E%9F%E5%88%99"><span class="toc-number">3.1.2.2.2.</span> <span class="toc-text"> 短作业优先原则</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E7%89%87%E5%8E%9F%E5%88%99"><span class="toc-number">3.1.2.2.3.</span> <span class="toc-text"> 时间片原则</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%AD%E7%BA%A7%E8%B0%83%E5%BA%A6"><span class="toc-number">3.1.3.</span> <span class="toc-text"> 中级调度</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E5%BA%A6%E9%98%9F%E5%88%97%E6%A8%A1%E5%9E%8B"><span class="toc-number">3.2.</span> <span class="toc-text"> 调度队列模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%A8%E8%BD%AC%E6%97%B6%E9%97%B4%E5%B9%B3%E5%9D%87%E5%91%A8%E8%BD%AC%E6%97%B6%E9%97%B4%E5%B8%A6%E6%9D%83%E5%91%A8%E8%BD%AC%E6%97%B6%E9%97%B4%E5%B9%B3%E5%9D%87%E5%B8%A6%E6%9D%83%E5%91%A8%E8%BD%AC%E6%97%B6%E9%97%B4%E7%AE%97%E6%B3%95"><span class="toc-number">3.3.</span> <span class="toc-text"> 周转时间，平均周转时间，带权周转时间，平均带权周转时间算法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E6%97%B6%E9%97%B4%E6%88%AA%E6%AD%A2%E6%97%B6%E9%97%B4%E5%92%8C%E7%B3%BB%E7%BB%9F%E5%90%9E%E5%90%90%E9%87%8F"><span class="toc-number">3.4.</span> <span class="toc-text"> 响应时间，截止时间和系统吞吐量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86"><span class="toc-number">3.5.</span> <span class="toc-text"> 调度算法的基本原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">3.6.</span> <span class="toc-text"> 死锁基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E5%AE%9A%E4%B9%89"><span class="toc-number">3.6.1.</span> <span class="toc-text"> 死锁定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E7%9A%84%E4%BA%A7%E7%94%9F"><span class="toc-number">3.6.2.</span> <span class="toc-text"> 死锁的产生</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E7%9A%84%E9%A2%84%E9%98%B2"><span class="toc-number">3.6.3.</span> <span class="toc-text"> 死锁的预防</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E7%9A%84%E9%81%BF%E5%85%8D"><span class="toc-number">3.6.4.</span> <span class="toc-text"> 死锁的避免</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%93%B6%E8%A1%8C%E5%AE%B6%E7%AE%97%E6%B3%95"><span class="toc-number">3.7.</span> <span class="toc-text"> 银行家算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%B6%E8%A1%8C%E5%AE%B6%E7%AE%97%E6%B3%95%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">3.7.1.</span> <span class="toc-text"> 银行家算法中的数据结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%B6%E8%A1%8C%E5%AE%B6%E7%AE%97%E6%B3%95-2"><span class="toc-number">3.7.2.</span> <span class="toc-text"> 银行家算法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E5%99%A8%E7%AE%A1%E7%90%86"><span class="toc-number">4.</span> <span class="toc-text"> 存储器管理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">4.1.</span> <span class="toc-text"> 存储器的基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E5%99%A8%E7%BB%93%E6%9E%84"><span class="toc-number">4.1.1.</span> <span class="toc-text"> 存储器结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E5%AD%98%E5%82%A8%E5%99%A8"><span class="toc-number">4.1.2.</span> <span class="toc-text"> 主存储器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%84%E5%AD%98%E5%99%A8"><span class="toc-number">4.1.3.</span> <span class="toc-text"> 寄存器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E9%80%9F%E7%BC%93%E5%AD%98"><span class="toc-number">4.1.4.</span> <span class="toc-text"> 高速缓存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E7%BC%93%E5%AD%98"><span class="toc-number">4.1.5.</span> <span class="toc-text"> 磁盘缓存</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E8%BF%90%E8%A1%8C%E7%9A%84%E5%A4%84%E7%90%86%E9%98%B6%E6%AE%B5"><span class="toc-number">4.2.</span> <span class="toc-text"> 程序运行的处理阶段</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E7%9A%84%E9%93%BE%E6%8E%A5"><span class="toc-number">4.2.1.</span> <span class="toc-text"> 程序的链接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%A3%85%E5%85%A5"><span class="toc-number">4.2.2.</span> <span class="toc-text"> 程序的装入</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E7%9A%84%E5%88%86%E9%85%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">4.3.</span> <span class="toc-text"> 内存的分配方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86%E6%96%B9%E5%BC%8F%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">4.4.</span> <span class="toc-text"> 分页存储管理方式基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E5%AD%98%E5%82%A8%E5%8E%9F%E7%90%86"><span class="toc-number">4.4.1.</span> <span class="toc-text"> 分页存储原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%AE%B5%E5%AD%98%E5%82%A8%E5%8E%9F%E7%90%86"><span class="toc-number">4.4.2.</span> <span class="toc-text"> 分段存储原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E5%9C%B0%E5%9D%80%E4%B8%8E%E7%89%A9%E7%90%86%E5%9C%B0%E5%9D%80%E6%98%A0%E5%B0%84"><span class="toc-number">4.4.3.</span> <span class="toc-text"> 逻辑地址与物理地址映射</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%AB%E8%A1%A8%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">4.4.4.</span> <span class="toc-text"> 快表的定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E8%AE%BF%E9%97%AE%E6%97%B6%E9%97%B4%E7%9A%84%E8%AE%A1%E7%AE%97"><span class="toc-number">4.4.5.</span> <span class="toc-text"> 内存访问时间的计算</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E5%99%A8"><span class="toc-number">5.</span> <span class="toc-text"> 虚拟存储器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F"><span class="toc-number">5.1.</span> <span class="toc-text"> 虚拟存储的实现方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E8%AF%B7%E6%B1%82%E7%B3%BB%E7%BB%9F"><span class="toc-number">5.1.1.</span> <span class="toc-text"> 分页请求系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%88%86%E6%AE%B5%E7%B3%BB%E7%BB%9F"><span class="toc-number">5.1.2.</span> <span class="toc-text"> 请求分段系统</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95"><span class="toc-number">5.2.</span> <span class="toc-text"> 页面置换算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95opt"><span class="toc-number">5.2.1.</span> <span class="toc-text"> 最佳置换算法（OPT）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%88%E8%BF%9B%E5%85%88%E5%87%BA%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95fifo"><span class="toc-number">5.2.2.</span> <span class="toc-text"> 先进先出置换算法（FIFO）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E8%BF%91%E6%9C%80%E4%B9%85%E6%9C%AA%E4%BD%BF%E7%94%A8%E7%AE%97%E6%B3%95lru"><span class="toc-number">5.2.3.</span> <span class="toc-text"> 最近最久未使用算法（LRU）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E5%B0%91%E4%BD%BF%E7%94%A8%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95lfu"><span class="toc-number">5.2.4.</span> <span class="toc-text"> 最少使用置换算法（LFU）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clock%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95"><span class="toc-number">5.2.5.</span> <span class="toc-text"> Clock置换算法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E7%B3%BB%E7%BB%9F"><span class="toc-number">6.</span> <span class="toc-text"> 输入输出系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E5%A4%87%E6%8E%A7%E5%88%B6%E5%99%A8%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86"><span class="toc-number">6.1.</span> <span class="toc-text"> 设备控制器基本知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#io%E7%B3%BB%E7%BB%9F%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD"><span class="toc-number">6.1.1.</span> <span class="toc-text"> I&#x2F;O系统基本功能</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#io%E9%80%9A%E9%81%93%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%92%8C%E7%93%B6%E9%A2%88%E9%97%AE%E9%A2%98"><span class="toc-number">6.2.</span> <span class="toc-text"> I&#x2F;O通道的类型和瓶颈问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E9%81%93%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.2.1.</span> <span class="toc-text"> 通道类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%93%B6%E9%A2%88%E9%97%AE%E9%A2%98"><span class="toc-number">6.2.2.</span> <span class="toc-text"> 瓶颈问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%93%E5%86%B2%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86"><span class="toc-number">6.3.</span> <span class="toc-text"> 缓冲的基本知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E7%BC%93%E5%86%B2"><span class="toc-number">6.3.1.</span> <span class="toc-text"> 为什么需要缓冲</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%93%E5%86%B2%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">6.3.2.</span> <span class="toc-text"> 缓冲的分类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8B%AC%E5%8D%A0%E8%AE%BE%E5%A4%87%E5%85%B1%E4%BA%AB%E8%AE%BE%E5%A4%87%E8%99%9A%E6%8B%9F%E8%AE%BE%E5%A4%87%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">6.4.</span> <span class="toc-text"> 独占设备，共享设备，虚拟设备的特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#spooling%E6%8A%80%E6%9C%AF%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">6.5.</span> <span class="toc-text"> Spooling技术的基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">6.5.1.</span> <span class="toc-text"> 概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E6%88%90"><span class="toc-number">6.5.2.</span> <span class="toc-text"> 组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">6.5.3.</span> <span class="toc-text"> 特点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%AE%BF%E9%97%AE%E6%97%B6%E9%97%B4%E7%A3%81%E7%9B%98%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95%E8%AE%A1%E7%AE%97%E5%B9%B3%E5%9D%87%E5%AF%BB%E9%81%93%E9%95%BF%E5%BA%A6"><span class="toc-number">6.6.</span> <span class="toc-text"> 磁盘格式化，访问时间，磁盘调度算法计算平均寻道长度</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%8E%E7%BA%A7%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">6.6.1.</span> <span class="toc-text"> 低级格式化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">6.6.2.</span> <span class="toc-text"> 高级格式化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E8%AE%BF%E9%97%AE%E6%97%B6%E9%97%B4"><span class="toc-number">6.6.3.</span> <span class="toc-text"> 磁盘访问时间</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BB%E9%81%93%E6%97%B6%E9%97%B4"><span class="toc-number">6.6.3.1.</span> <span class="toc-text"> 寻道时间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%8B%E8%BD%AC%E5%BB%B6%E8%BF%9F%E6%97%B6%E9%97%B4"><span class="toc-number">6.6.3.2.</span> <span class="toc-text"> 旋转延迟时间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E6%97%B6%E9%97%B4"><span class="toc-number">6.6.3.3.</span> <span class="toc-text"> 传输时间</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="toc-number">6.6.4.</span> <span class="toc-text"> 磁盘调度算法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%88%E6%9D%A5%E5%85%88%E6%9C%8D%E5%8A%A1fcfs%E7%AE%97%E6%B3%95"><span class="toc-number">6.6.4.1.</span> <span class="toc-text"> 先来先服务（FCFS）算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E7%9F%AD%E5%AF%BB%E9%81%93%E6%97%B6%E9%97%B4%E4%BC%98%E5%85%88sstf%E7%AE%97%E6%B3%95"><span class="toc-number">6.6.4.2.</span> <span class="toc-text"> 最短寻道时间优先（SSTF）算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%AB%E6%8F%8Fscan%E7%94%B5%E6%A2%AF%E7%AE%97%E6%B3%95"><span class="toc-number">6.6.4.3.</span> <span class="toc-text"> 扫描（SCAN，电梯）算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E6%89%AB%E6%8F%8Fcscan%E7%AE%97%E6%B3%95"><span class="toc-number">6.6.4.4.</span> <span class="toc-text"> 循环扫描（CSCAN）算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#n-step-scan"><span class="toc-number">6.6.4.5.</span> <span class="toc-text"> N-Step-SCAN</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#fscan%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="toc-number">6.6.4.6.</span> <span class="toc-text"> FSCAN调度算法</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86"><span class="toc-number">7.</span> <span class="toc-text"> 文件管理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%92%8C%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86"><span class="toc-number">7.1.</span> <span class="toc-text"> 文件和文件系统的基本知识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%96%E5%AD%98%E5%88%86%E9%85%8D%E6%96%B9%E5%BC%8F%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">7.2.</span> <span class="toc-text"> 外存分配方式的基本原理、优缺点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E7%BB%AD%E5%88%86%E9%85%8D"><span class="toc-number">7.2.1.</span> <span class="toc-text"> 连续分配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E6%8E%A5%E5%88%86%E9%85%8D"><span class="toc-number">7.2.2.</span> <span class="toc-text"> 链接分配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E5%88%86%E9%85%8D"><span class="toc-number">7.2.3.</span> <span class="toc-text"> 索引分配</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E7%BA%A7%E7%B4%A2%E5%BC%95%E8%A1%A8"><span class="toc-number">7.3.</span> <span class="toc-text"> 单级索引表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">7.4.</span> <span class="toc-text"> 文件目录基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E7%9A%84%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95"><span class="toc-number">7.4.1.</span> <span class="toc-text"> 简单的文件目录</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E7%BA%A7%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95"><span class="toc-number">7.4.1.1.</span> <span class="toc-text"> 单级文件目录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%A4%E7%BA%A7%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95"><span class="toc-number">7.4.1.2.</span> <span class="toc-text"> 两级文件目录</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84%E7%9B%AE%E5%BD%95"><span class="toc-number">7.4.2.</span> <span class="toc-text"> 树形结构目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E6%9F%A5%E8%AF%A2%E6%96%B9%E6%B3%95"><span class="toc-number">7.4.3.</span> <span class="toc-text"> 目录查询方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BA%BF%E6%80%A7%E6%A3%80%E7%B4%A2%E6%B3%95"><span class="toc-number">7.4.3.1.</span> <span class="toc-text"> 线性检索法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hash%E6%96%B9%E6%B3%95"><span class="toc-number">7.4.3.2.</span> <span class="toc-text"> Hash方法</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2021 By 烟雨迷离半世殇</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">2018-2021 lfzxb.top版权所有</br><a href="https://beian.miit.gov.cn" target="_blank">苏ICP备19003389号-1</a></br><img src = "https://myfirstblog.oss-cn-hangzhou.aliyuncs.com/typoraImages/20210126215735.png!webp" alt = "公网安备字"/><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=32032102000159" target="_blank">苏公网安备 32032102000159号</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">簡</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', '', 'katex-wrap')
  })
})()</script><script>(()=>{
  const $countDom = document.getElementById('twikoo-count')
  const init = () => {
    let initData = {
      el: '#twikoo-wrap',
      envId: 'twikoo-4gsr2cmdebe58feb',
      region: ''
    }

    if (false) {
      const otherData = false
      initData = Object.assign(initData, otherData)
    }
    
    twikoo.init(initData)
  }

  const getCount = () => {
    twikoo.getCommentsCount({
      envId: 'twikoo-4gsr2cmdebe58feb',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      $countDom.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const loadTwikoo = (bool = false) => {
    if (typeof twikoo === 'object') {
      init()
      bool && $countDom && setTimeout(getCount,0)
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(()=> {
        init()
        bool && $countDom && setTimeout(getCount,0)
      })
    }
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo(true)
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script defer data-pjax src="/live2d-widget/autoload.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script>((window.gitter = {}).chat = {}).options = {
  disableDefaultChat: true,
};
document.addEventListener('gitter-sidecar-ready', (e) => {
  const GitterChat = e.detail.Chat
  let chat

  function initGitter () {
    chat = new GitterChat({
      room: 'YYMLBSS/community',
      activationElement: '#chat_btn'
    });
  }

  initGitter()

  if (true) {
    document.addEventListener('pjax:complete', () => {
      chat.destroy()
      initGitter()
    })
  }

})</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="async" defer="defer"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config_change',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  if (typeof gtag === 'function') {
    gtag('config', '', {'page_path': window.location.pathname});
  }

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})


document.addEventListener('pjax:send', function () {
  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})</script></div></body></html>